<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Polarity & Maturity Model</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.css" rel="stylesheet">
  <style>
    body.light { background-color: #ffffff; color: #000000; }
    body.dark { background-color: #1e1e1e; color: #ffffff; }
    .dark #network { background-color: #2c2c2c; }
    #network { width: 100%; height: 600px; border: 1px solid #ccc; }
    #spinner { display: none; text-align: center; padding: 20px; }
  </style>
</head>
<body class="light">
  <div class="container mt-4">
    <h1>Polarity & Maturity Model</h1>
    <!-- Theme Toggle -->
    <div class="form-check form-switch mb-3">
      <input class="form-check-input" type="checkbox" id="themeToggle" onchange="toggleTheme()">
      <label class="form-check-label" for="themeToggle">Dark Mode</label>
    </div>
    <!-- Form -->
    <form id="prompt-form">
      <div class="mb-3">
        <label for="example-select" class="form-label">Load Example</label>
        <select class="form-select" id="example-select" onchange="loadExample()">
          <option value="">Select an example</option>
          <option value="Stability vs. Change">Stability vs. Change</option>
          <option value="Individual vs. Team">Individual vs. Team</option>
          <option value="Centralization vs. Decentralization">Centralization vs. Decentralization</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="pole1-name" class="form-label">Pole 1 Name</label>
        <input type="text" class="form-control" id="pole1-name" placeholder="e.g., Stability"
          data-bs-toggle="tooltip" data-bs-placement="top" title="Name of the first pole in the dilemma.">
      </div>
      <div class="mb-3">
        <label for="pole1-maturity" class="form-label">Pole 1 Maturity (1-5)</label>
        <input type="number" class="form-control" id="pole1-maturity" min="1" max="5" value="3"
          data-bs-toggle="tooltip" data-bs-placement="top" title="Maturity level for Pole 1 (1: initial, 5: optimizing).">
      </div>
      <div class="mb-3">
        <label for="pole2-name" class="form-label">Pole 2 Name</label>
        <input type="text" class="form-control" id="pole2-name" placeholder="e.g., Change"
          data-bs-toggle="tooltip" data-bs-placement="top" title="Name of the second pole in the dilemma.">
      </div>
      <div class="mb-3">
        <label for="pole2-maturity" class="form-label">Pole 2 Maturity (1-5)</label>
        <input type="number" class="form-control" id="pole2-maturity" min="1" max="5" value="3"
          data-bs-toggle="tooltip" data-bs-placement="top" title="Maturity level for Pole 2 (1: initial, 5: optimizing).">
      </div>
      <div class="mb-3">
        <label for="polarity-weight" class="form-label">Polarity Weight (-1.0 shadow to 1.0 light)</label>
        <input type="number" class="form-control" id="polarity-weight" min="-1.0" max="1.0" step="0.1" value="0.5"
          data-bs-toggle="tooltip" data-bs-placement="top" title="Weight of polarity (-1.0: shadow/manipulative, 1.0: light/consensual).">
      </div>
      <div class="mb-3">
        <label for="consent" class="form-label">Consent (0 or 1)</label>
        <input type="number" class="form-control" id="consent" min="0" max="1" value="0"
          data-bs-toggle="tooltip" data-bs-placement="top" title="0 for no consent, 1 for full consent in the relationship.">
      </div>
      <div class="mb-3">
        <label for="metacognition" class="form-label">Metacognition (0 or 1)</label>
        <input type="number" class="form-control" id="metacognition" min="0" max="1" value="0"
